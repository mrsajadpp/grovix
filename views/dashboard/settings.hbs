{{>headers/settings}}
<!-- Seperators Starts -->
<div class="seperatorContainer">
    <div class="seperator">
        <div class="seLeft selected">
            <a href="/dashboard/settings">
                <button>
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" class="active" width="24"
                        focusable="false" style="pointer-events: none; display: inherit; width: 24px; height: 24px;">
                        <path
                            d="m12 3.06 7 3.21v4.84c0 1.3-.25 2.6-.75 3.86-.15.37-.33.76-.55 1.17-.15.27-.31.54-.48.81-1.32 2.01-3.17 3.42-5.23 3.98-2.06-.56-3.91-1.97-5.23-3.98-.17-.27-.33-.54-.48-.81-.22-.41-.4-.79-.55-1.17-.48-1.26-.73-2.56-.73-3.86V6.27l7-3.21m0-1.1L4 5.63v5.49c0 1.47.3 2.9.81 4.22.17.44.37.86.6 1.28.16.3.34.6.52.88 1.42 2.17 3.52 3.82 5.95 4.44l.12.02.12-.03c2.43-.61 4.53-2.26 5.95-4.43.19-.29.36-.58.52-.88.22-.41.43-.84.6-1.28.51-1.33.81-2.76.81-4.23V5.63l-8-3.67zm1.08 10.15c-.32-.06-.64-.11-.96-.12A2.997 2.997 0 0012 6a2.996 2.996 0 00-.12 5.99c-.32.01-.64.06-.96.12C8.64 12.58 7 14.62 7 17h10c0-2.38-1.64-4.42-3.92-4.89zM10 9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm1.12 4.09c.37-.08.64-.11.88-.11s.51.03.88.11c1.48.3 2.63 1.46 3 2.91H8.12c.37-1.45 1.52-2.61 3-2.91z">
                        </path>
                    </svg>
                </button>
                <span class="sepText active">Profile</span>
            </a>
        </div>
        <div class="seRight">
            <a href="/dashboard/settings/payment">
                <button>
                    <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false"
                        class="style-scope tp-yt-iron-icon"
                        style="pointer-events: none; display: block; width: 24px; height: 24px;">
                        <g width="24" height="24" viewBox="0 0 24 24" class="style-scope tp-yt-iron-icon">
                            <path
                                d="M8 7V10C8 10.55 8.45 11 9 11H15C16.1 11 17 11.9 17 13V17C17 18.1 16.1 19 15 19H13V21H11V19H7V18H15C15.55 18 16 17.55 16 17V13C16 12.45 15.55 12 15 12H9C7.9 12 7 11.1 7 10V7C7 5.9 7.9 5 9 5H11V3H13V5H17V6H9C8.45 6 8 6.45 8 7Z"
                                class="style-scope tp-yt-iron-icon"></path>
                        </g>
                    </svg>
                </button>
                <span class="sepText">Payment</span>
            </a>
        </div>
    </div>
</div>

<div style="width: 100%; height: 90px;"></div>
<!-- Profile -->
<div class="container">
    <form action="/profile/edit" method="post" class="regForm" enctype="multipart/form-data">
        <div class="inputText">
            <span>
                By using our services, you are accepting our <a href="terms-and-conditions.html" target="_blank">terms
                    and conditions</a>.
            </span>
        </div>
        <br>
        <input type="file" name="profile" hidden accept="image/jpg, image/jpeg, image/png" id="profileInp">
        <div id="inputProfile" class="inputProfile" style="background-image: url('/img/user/{{user._id}}.jpg');">
            <button type="button">
                <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false"
                    class="style-scope tp-yt-iron-icon"
                    style="pointer-events: none; display: block; width: 34px; height: 34px; fill: #fff;">
                    <g width="24" height="24" viewBox="0 0 24 24" class="style-scope tp-yt-iron-icon">
                        <path
                            d="M14.06 7.6L16.4 9.94L6.34 20H4V17.66L14.06 7.6ZM14.06 6.19L3 17.25V21H6.75L17.81 9.94L14.06 6.19ZM17.61 4.05L19.98 6.42L18.84 7.56L16.47 5.19L17.61 4.05ZM17.61 2.63L15.06 5.18L18.85 8.97001L21.4 6.42L17.61 2.63Z"
                            class="style-scope tp-yt-iron-icon"></path>
                    </g>
                </svg>
            </button>
        </div>
        <div class="inputBox">
            <input type="text" name="first_name" id="first_name" value="{{user.first_name}}" placeholder="First Name">
            &nbsp;
            <input type="text" name="last_name" id="last_name" value="{{user.last_name}}" placeholder="Last Name">
        </div>
        <div class="inputBox">
            <input type="email" disabled name="email" id="email" value="{{user.email}}" placeholder="Email">
        </div>
        <div class="inputBox">
            <input type="tel" name="phone" id="phone" value="{{user.contact_no}}" placeholder="Phone">
        </div>
        <div class="inputBox">
            <select name="sex" id="sex">
                {{#ifequal user.sex 'male'}}
                <option value="" disabled>Sex</option>
                <option value="male" selected>Male</option>
                <option value="female">Female</option>
                {{/ifequal}}
                {{#ifequal user.sex 'female'}}
                <option value="" disabled>Sex</option>
                <option value="male">Male</option>
                <option value="female" selected>Female</option>
                {{/ifequal}}

                {{#if user.sex}}
                {{else}}
                <option value="" selected disabled>Sex</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                {{/if}}
            </select>
        </div>
        <div class="inputBox">
            <input type="text" placeholder="About You" name="bio" id="bio" value="{{user.bio}}">
        </div>
        <div class="inputBox">
            <input type="text" placeholder="Address Line One*" name="address_line_one" id="bio"
                value="{{user.address.address_line_one}}">
        </div>
        <div class="inputBox">
            <input type="text" placeholder="Address Line Two*" name="address_line_two" id="bio"
                value="{{user.address.addressline_two}}">
        </div>
        <div class="inputBox">
            <input type="text" placeholder="Country*" name="country" id="bio" value="{{user.address.country}}">
        </div>
        <div class="inputBox">
            <input type="text" placeholder="State*" name="state" id="bio" value="{{user.address.state}}">
        </div>
        <div class="inputBox">
            <input type="text" placeholder="City*" name="city" id="bio" value="{{user.address.city}}">
        </div>
        <div class="inputBox">
            <input type="text" placeholder="Zip Code*" name="zip_code" id="bio" value="{{user.address.zip_code}}">
        </div>
        <!-- <div class="inputText">
                <input type="checkbox" name="terms_accept" id="terms">
                <span>
                    By using our services, you are accepting our <a href="terms-and-conditions.html"
                        target="_blank">terms and conditions</a>.
                </span>
            </div> -->
        <div class="inputBox">
            <button>
                Save
            </button>
        </div>
        <!-- <div class="inputText">
                <span>Do you have a account? <a href="./login.html">LogIn</a>.</span>
            </div> -->
    </form>
</div>
<br>
<!-- Image preview script -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const inputProfileDiv = document.getElementById('inputProfile');
        const fileInput = document.getElementById('profileInp');

        fileInput.addEventListener('change', function (event) {
            // event.preventDefault(); // Prevent default form submission behavior
            const input = event.target;
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    inputProfileDiv.style.backgroundImage = `url(${e.target.result})`;
                }
                reader.readAsDataURL(file);
            }
        });

        inputProfileDiv.addEventListener('click', function () {
            fileInput.click();
        });
    });
</script>